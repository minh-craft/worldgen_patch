[
  {
    "op": "add",
    "path": "/noise_router/final_density/argument1/argument/argument2/argument1/argument/argument/argument2/argument2/argument2/argument2/argument1/from_y",
    "value": 112
  },
  {
    "op": "add",
    "path": "/noise_router/final_density/argument1/argument/argument2/argument1/argument/argument/argument2/argument2/argument2/argument2/argument1/to_y",
    "value": 128
  },
  {
    "op": "replace",
    "path": "/noise_router/temperature/xz_scale",
    "value": 0.28
  },
  {
    "op": "replace",
    "path": "/noise_router/vegetation/xz_scale",
    "value": 0.25
  }

# # surface noise caves only + caves below y=0
# {
#   "op": "replace",
#   "path": "/noise_router/final_density",
#   "value": {
#     "type": "minecraft:squeeze",
#     "argument": {
#       "type": "minecraft:mul",
#       "argument1": 0.64,
#       "argument2": {
#         "type": "minecraft:min",
#         "argument1": {
#           "type": "minecraft:interpolated",
#           "argument": {
#             "type": "minecraft:blend_density",
#             "argument": {
#               "type": "minecraft:add",
#               "argument1": 0.1171875,
#               "argument2": {
#                 "type": "minecraft:mul",
#                 "argument1": {
#                   "type": "minecraft:y_clamped_gradient",
#                   "from_y": -64,
#                   "to_y": -40,
#                   "from_value": 0,
#                   "to_value": 1
#                 },
#                 "argument2": {
#                   "type": "minecraft:add",
#                   "argument1": -0.1171875,
#                   "argument2": {
#                     "type": "minecraft:add",
#                     "argument1": -0.078125,
#                     "argument2": {
#                       "type": "minecraft:mul",
#                       "argument1": {
#                         "type": "minecraft:y_clamped_gradient",
#                         "from_y": 112,
#                         "to_y": 128,
#                         "from_value": 1,
#                         "to_value": 0
#                       },
#                       "argument2": {
#                         "type": "minecraft:range_choice",
#                         "input": "minecraft:overworld/sloped_cheese",
#                         "max_exclusive": 1.5625,
#                         "min_inclusive": -1000000.0,
#                         "when_in_range": {
#                           "type": "minecraft:min",
#                           "argument1": "minecraft:overworld/sloped_cheese",
#                           "argument2": {
#                             "type": "minecraft:mul",
#                             "argument1": 5.0,
#                             "argument2": "hybrid_beta:overworld/caves/entrances"
#                           }
#                         },
#                         "when_out_of_range": {
#                           "type": "minecraft:range_choice",
#                           "input": "minecraft:y",
#                           "max_exclusive": -2,
#                           "min_inclusive": -1000000.0,
#                           "when_in_range": {
#                             "type": "minecraft:max",
#                             "argument1": {
#                               "type": "minecraft:min",
#                               "argument1": {
#                                 "type": "minecraft:min",
#                                 "argument1": {
#                                   "type": "minecraft:add",
#                                   "argument1": "hybrid_beta:overworld/caves/layer",
#                                   "argument2": {
#                                     "type": "minecraft:add",
#                                     "argument1": "hybrid_beta:overworld/caves/cheese",
#                                     "argument2": {
#                                       "type": "minecraft:clamp",
#                                       "input": {
#                                         "type": "minecraft:add",
#                                         "argument1": 1.5,
#                                         "argument2": {
#                                           "type": "minecraft:mul",
#                                           "argument1": -0.64,
#                                           "argument2": "minecraft:overworld/sloped_cheese"
#                                         }
#                                       },
#                                       "max": 0.5,
#                                       "min": 0.0
#                                     }
#                                   }
#                                 },
#                                 "argument2": "hybrid_beta:overworld/caves/entrances"
#                               },
#                               "argument2": "hybrid_beta:overworld/caves/spaghetti"
#                             },
#                             "argument2": {
#                               "type": "minecraft:range_choice",
#                               "input": "minecraft:overworld/caves/pillars",
#                               "max_exclusive": 0.03,
#                               "min_inclusive": -1000000.0,
#                               "when_in_range": -1000000.0,
#                               "when_out_of_range": "minecraft:overworld/caves/pillars"
#                             }
#                           },
#                           "when_out_of_range": {
#                             "type": "minecraft:clamp",
#                             "input": {
#                               "type": "minecraft:add",
#                               "argument1": 1.5,
#                               "argument2": {
#                                 "type": "minecraft:mul",
#                                 "argument1": -0.64,
#                                 "argument2": "minecraft:overworld/sloped_cheese"
#                               }
#                             },
#                             "max": 0.5,
#                             "min": 0.0
#                           }
#                         }
#                       }
#                     }
#                   }
#                 }
#               }
#             }
#           }
#         },
#         "argument2": "hybrid_beta:overworld/river_carver/river_carver"
#       }
#     }
#   }
# }

# # only noise caves below y=0
{
  "op": "replace",
  "path": "/noise_router/final_density",
  "value": {
    "type": "minecraft:squeeze",
    "argument": {
      "type": "minecraft:mul",
      "argument1": 0.64,
      "argument2": {
        "type": "minecraft:min",
        "argument1": {
          "type": "minecraft:interpolated",
          "argument": {
            "type": "minecraft:blend_density",
            "argument": {
              "type": "minecraft:add",
              "argument1": 0.1171875,
              "argument2": {
                "type": "minecraft:mul",
                "argument1": {
                  "type": "minecraft:y_clamped_gradient",
                  "from_y": -64,
                  "to_y": -40,
                  "from_value": 0,
                  "to_value": 1
                },
                "argument2": {
                  "type": "minecraft:add",
                  "argument1": -0.1171875,
                  "argument2": {
                    "type": "minecraft:add",
                    "argument1": -0.078125,
                    "argument2": {
                      "type": "minecraft:mul",
                      "argument1": {
                        "type": "minecraft:y_clamped_gradient",
                        "from_y": 112,
                        "to_y": 128,
                        "from_value": 1,
                        "to_value": 0
                      },
                      "argument2": {
                        "type": "minecraft:range_choice",
                        "input": "minecraft:overworld/sloped_cheese",
                        "max_exclusive": 1.5625,
                        "min_inclusive": -1000000.0,
                        "when_in_range": "minecraft:overworld/sloped_cheese",
                        "when_out_of_range": {
                          "type": "minecraft:range_choice",
                          "input": "minecraft:y",
                          "max_exclusive": -2,
                          "min_inclusive": -1000000.0,
                          "when_in_range": {
                            "type": "minecraft:max",
                            "argument1": {
                              "type": "minecraft:min",
                              "argument1": {
                                "type": "minecraft:min",
                                "argument1": {
                                  "type": "minecraft:add",
                                  "argument1": "hybrid_beta:overworld/caves/layer",
                                  "argument2": {
                                    "type": "minecraft:add",
                                    "argument1": "hybrid_beta:overworld/caves/cheese",
                                    "argument2": {
                                      "type": "minecraft:clamp",
                                      "input": {
                                        "type": "minecraft:add",
                                        "argument1": 1.5,
                                        "argument2": {
                                          "type": "minecraft:mul",
                                          "argument1": -0.64,
                                          "argument2": "minecraft:overworld/sloped_cheese"
                                        }
                                      },
                                      "max": 0.5,
                                      "min": 0.0
                                    }
                                  }
                                },
                                "argument2": "hybrid_beta:overworld/caves/entrances"
                              },
                              "argument2": "hybrid_beta:overworld/caves/spaghetti"
                            },
                            "argument2": {
                              "type": "minecraft:range_choice",
                              "input": "minecraft:overworld/caves/pillars",
                              "max_exclusive": 0.03,
                              "min_inclusive": -1000000.0,
                              "when_in_range": -1000000.0,
                              "when_out_of_range": "minecraft:overworld/caves/pillars"
                            }
                          },
                          "when_out_of_range": {
                            "type": "minecraft:clamp",
                            "input": {
                              "type": "minecraft:add",
                              "argument1": 1.5,
                              "argument2": {
                                "type": "minecraft:mul",
                                "argument1": -0.64,
                                "argument2": "minecraft:overworld/sloped_cheese"
                              }
                            },
                            "max": 0.5,
                            "min": 0.0
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "argument2": "hybrid_beta:overworld/river_carver/river_carver"
      }
    }
  }
}

# {
#   "op": "find",
#   "path": "/noise_router/final_density",
#   "multi": true,
#   "test": [
#     {
#       "path": ""
#       "value": "hybrid_beta:overworld/caves/entrances"
#     }
#   ],
#   "then": [
#     {
#       "op": "replace",
#       "path": "",
#       "value": 1
#     }
#   ]
# }
# {
#   "op": "add",
#   "path": "/surface_rule/sequence/1/then_run/sequence/7/then_run/sequence/1/then_run/sequence/-",
#   "value": {
#     "type": "minecraft:condition",
#     "if_true": {
#       "type": "minecraft:biome",
#       "biome_is": [
#         "minecraft:swamp"
#       ]
#     },
#     "then_run": {
#       "type": "minecraft:block",
#       "result_state": {
#         "Name": "minecraft:mud"
#       }
#     }
#   }
# },
# {
#   "op": "add",
#   "path": "/surface_rule/sequence/1/then_run/sequence/6/then_run/sequence/1/then_run/sequence/-",
#   "value": {
#     "type": "minecraft:condition",
#     "if_true": {
#       "type": "minecraft:biome",
#       "biome_is": [
#         "minecraft:swamp"
#       ]
#     },
#     "then_run": {
#       "type": "minecraft:block",
#       "result_state": {
#         "Name": "minecraft:mud"
#       }
#     }
#   }
# }
# {
#   "op": "find",
#   "path": "/surface_rule/sequence/1/then_run/sequence/6",
#   "multi": true,
#   "test": [
#     {
#       "path": "/biome_is"
#       "value": "minecraft:mushroom_fields"
#     }
#   ],
#   "then": [
#     {
#       "op": "replace",
#       "path": "",
#       "value": {
#         "tag": "minecraft:swamp"
#       }
#     }
#   ]
# }
]